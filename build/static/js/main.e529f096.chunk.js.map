{"version":3,"sources":["hooks/useApp.js","components/notify.js","hoc/AppProvider.js","components/Searchbar/Searchbar.module.css","components/Navigation/Navigation.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/Searchbar/Searchbar.js","services/shipments-api.js","components/Button/Button.js","components/Navigation/Navigation.js","App.js","index.js"],"names":["useApp","useContext","AppContext","notifyError","txt","error","text","delay","modules","Map","defaultModules","PNotifyMobile","swipeDismiss","notifyInfo","info","defaults","styling","icons","sticker","animateSpeed","shadow","createContext","AppProvider","children","useState","searchValue","setSearchValue","currentCompany","setCurrentCompany","JSON","parse","window","localStorage","getItem","companies","setCompanies","useEffect","length","value","Provider","module","exports","LoaderSpinner","className","type","color","height","width","timeout","Searchbar","handleChange","useCallback","e","target","s","SearchForm","onSubmit","preventDefault","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","a","axios","get","result","data","massage","baseURL","fetchShipments","Button","changeCompanies","id","idx","indexOf","find","company","slice","handleLoadBtnClick","then","setItem","stringify","handleSaveBtnClick","changedCompanies","btn","onClick","Navigation","nav","to","link","CompaniesPage","lazy","App","fallback","Loader","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e529f096.chunk.js","sourcesContent":["import { useContext } from 'react'\r\nimport { AppContext } from '../hoc/AppProvider'\r\n\r\nexport function useApp() {\r\n  return useContext(AppContext)\r\n}\r\n","import {\r\n  alert,\r\n  error,\r\n  info,\r\n  defaultModules,\r\n  success,\r\n  defaults,\r\n} from '../../node_modules/@pnotify/core/dist/PNotify.js'\r\nimport '@pnotify/core/dist/PNotify.css'\r\nimport '@pnotify/core/Angeler.css'\r\nimport '@pnotify/core/Material.css'\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css'\r\nimport * as PNotifyMobile from '@pnotify/mobile'\r\n\r\ndefaults.styling = 'angeler'\r\ndefaults.icons = 'angeler'\r\ndefaults.delay = 800\r\ndefaults.sticker = false\r\ndefaults.animateSpeed = 'slow'\r\ndefaults.shadow = false\r\n\r\nexport function notifyAlert(txt) {\r\n  alert({\r\n    text: txt,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifyError(txt) {\r\n  error({\r\n    text: txt,\r\n    delay: 4000,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifyInfo(txt) {\r\n  info({\r\n    text: txt,\r\n    delay: 4000,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifySuccess(txt) {\r\n  success({\r\n    text: txt,\r\n    delay: 1200,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\n","import { createContext, useState, useEffect } from 'react'\r\nimport { notifyInfo } from '../components/notify'\r\n\r\nexport const AppContext = createContext(null)\r\n\r\nexport const AppProvider = ({ children }) => {\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [currentCompany, setCurrentCompany] = useState(null)\r\n  const [companies, setCompanies] = useState(\r\n    () => JSON.parse(window.localStorage.getItem('companies')) ?? [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (companies.length === 0)\r\n      notifyInfo(`Please press button \"Load\" to loading a set over the network`)\r\n  }, [])\r\n\r\n  const value = {\r\n    companies,\r\n    setCompanies,\r\n    currentCompany,\r\n    setCurrentCompany,\r\n    searchValue,\r\n    setSearchValue,\r\n  }\r\n\r\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3ACcH\",\"SearchForm\":\"Searchbar_SearchForm__3lfnm\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2sOAC\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1qeuG\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2xH-y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__ex-T-\",\"link\":\"Navigation_link__buJcb\",\"activeLink\":\"Navigation_activeLink__3G7DY Navigation_link__buJcb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3lBbX\"};","import Loader from 'react-loader-spinner'\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css'\r\n\r\nexport default function LoaderSpinner() {\r\n  return (\r\n    <Loader\r\n      className=\"Loader\"\r\n      type=\"Oval\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}\r\n    />\r\n  )\r\n}\r\n","import { useCallback } from 'react'\r\nimport s from './Searchbar.module.css'\r\nimport { useApp } from '../../hooks/useApp'\r\n\r\nexport default function Searchbar() {\r\n  const { searchValue, setSearchValue } = useApp()\r\n\r\n  const handleChange = useCallback((e) => setSearchValue(e.target.value), [\r\n    searchValue,\r\n  ])\r\n\r\n  const handleSubmit = (e) => e.preventDefault()\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        {/* <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button> */}\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          name=\"searchValue\"\r\n          value={searchValue}\r\n          onChange={handleChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search...\"\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport { notifyError } from '../components/notify'\r\n\r\n// axios.defaults.baseURL = 'http://localhost:4040'\r\naxios.defaults.baseURL =\r\n  'https://raw.githubusercontent.com/khomasl/cargo-planner/main/src/services'\r\n\r\nasync function fetchShipments() {\r\n  try {\r\n    const result = await axios.get('/shipments.json')\r\n    return await result.data\r\n  } catch (err) {\r\n    notifyError(err.massage)\r\n  }\r\n}\r\n\r\nexport default fetchShipments\r\n","import { useCallback } from 'react'\r\nimport { useApp } from '../../hooks/useApp'\r\nimport fetchShipments from '../../services/shipments-api'\r\nimport s from './Button.module.css'\r\n\r\nexport default function Button() {\r\n  const { companies, setCompanies, currentCompany } = useApp()\r\n\r\n  const findIndexCompanyById = (id) =>\r\n    companies.indexOf(companies.find((company) => company.id === id))\r\n\r\n  const changeCompanies = (currentCompany) => {\r\n    if (!currentCompany) return companies\r\n    const idx = findIndexCompanyById(currentCompany.id)\r\n    return [\r\n      ...companies.slice(0, idx),\r\n      currentCompany,\r\n      ...companies.slice(idx + 1),\r\n    ]\r\n  }\r\n\r\n  const handleLoadBtnClick = useCallback(\r\n    () =>\r\n      fetchShipments().then((companies) => {\r\n        setCompanies(companies)\r\n        window.localStorage.setItem('companies', JSON.stringify(companies))\r\n      }),\r\n    [],\r\n  )\r\n\r\n  const handleSaveBtnClick = useCallback(() => {\r\n    const changedCompanies = changeCompanies(currentCompany)\r\n    setCompanies(changedCompanies)\r\n    window.localStorage.setItem('companies', JSON.stringify(changedCompanies))\r\n  }, [currentCompany, companies])\r\n\r\n  return (\r\n    <div>\r\n      <button type=\"button\" className={s.btn} onClick={handleLoadBtnClick}>\r\n        Load\r\n      </button>\r\n      <button type=\"button\" className={s.btn} onClick={handleSaveBtnClick}>\r\n        Save\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import s from './Navigation.module.css'\r\nimport Searchbar from '../Searchbar/Searchbar'\r\nimport Button from '../Button/Button'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Navigation = () => (\r\n  <>\r\n    <nav className={s.nav}>\r\n      <h1>\r\n        <Link to=\"/\" className={s.link}>\r\n          Cargo Planner\r\n        </Link>\r\n      </h1>\r\n      <Searchbar />\r\n      <Button />\r\n    </nav>\r\n    <hr />\r\n  </>\r\n)\r\n\r\nexport default Navigation\r\n","import './App.css'\nimport { lazy, Suspense } from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport { AppProvider } from './hoc/AppProvider'\nimport Navigation from './components/Navigation/Navigation'\nimport Loader from './components/Loader/Loader'\n\nconst CompaniesPage = lazy(() =>\n  import('./pages/CompaniesPage' /* webpackChunkName: 'Companies Page' */),\n)\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <AppProvider>\n        <Navigation />\n\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"/*\" element={<CompaniesPage />} />\n          </Routes>\n        </Suspense>\n      </AppProvider>\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}